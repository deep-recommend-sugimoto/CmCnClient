<div class="message-screen">
    <div *ngFor="let message of messages; let i = index">
        <div *ngIf="currentRoomId === message.roomId">
            <div *ngIf="profile?._id === message.userId; then thenBlock; else elseBlock"></div>
            <ng-template #thenBlock>
                <div>
                    <div fxLayout="row">
                        <div (click)="onClickMyProfilePicture()">
                            <div *ngIf="profile?.profilePicture; then thenBlock; else elseBlock"></div>
                            <ng-template #thenBlock>
                                <img class="avatar" src="{{ profile?.profilePicture }}" />
                            </ng-template>
                            <ng-template #elseBlock>
                                <img class="avatar" src="/assets/images/png/default-avatar.png" />
                            </ng-template>
                        </div>
                        <div fxLayout="column">
                            <p>
                                {{ profile?.realLastName }}{{ profile?.realFirstName
                                }}{{ relativeTime(message.createdAt) }}
                            </p>
                            <p>{{ message.message }}</p>
                        </div>
                    </div>
                </div>
            </ng-template>
            <ng-template #elseBlock>
                <div fxLayout="row" fxLayoutAlign="end">
                    <div fxLayout="row">
                        <div fxLayout="column">
                            <p>
                                {{ companion?.realLastName }}{{ companion?.realFirstName
                                }}{{ relativeTime(message.createdAt) }}
                            </p>
                            <p>{{ message.message }}</p>
                        </div>
                        <div (click)="onClickCompanionProfilePicture(companion?._id)">
                            <div *ngIf="companion?.profilePicture; then thenBlock; else elseBlock"></div>
                            <ng-template #thenBlock>
                                <img class="avatar" src="{{ companion?.profilePicture }}" />
                            </ng-template>
                            <ng-template #elseBlock>
                                <img class="avatar" src="/assets/images/png/default-avatar.png" />
                            </ng-template>
                        </div>
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
</div>
